!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./navbar/navbar.directive"),e=a("./sidebar/sidebar.directive"),f=a("./search/searchInput.directive"),g=a("./gmap/gmap.directive"),h=(a("./gmap/gmap.controller"),a("./signup/signupForm.directive")),i=a("./signup/signup.service"),j=a("./postjob/postjobForm.directive"),k=(a("./postjob/postjob.service"),a("./messenger.service")),l=a("./main.controller");window.init=function(){var a=angular.module("githired",["ngResource","ngAnimate"]);a.service("messenger_service",["$rootScope",k]).service("signup_service",["$resource","$rootScope",i]),a.directive("ghNavbar",[d]).directive("ghSidebar",[e]).directive("ghGmap",[g]).directive("ghSearch",[f]).directive("ghSignupForm",[h]).directive("ghPostJobForm",[j]),a.controller("main_controller",["$scope","messenger_service",l]),angular.bootstrap(document,["githired"]),$(window).resize(function(){var a=$(window).height();$("#gmap").css("height",a)}).resize()}},{"./gmap/gmap.controller":2,"./gmap/gmap.directive":3,"./main.controller":4,"./messenger.service":5,"./navbar/navbar.directive":7,"./postjob/postjob.service":9,"./postjob/postjobForm.directive":10,"./search/searchInput.directive":11,"./sidebar/sidebar.directive":12,"./signup/signup.service":14,"./signup/signupForm.directive":15}],2:[function(a,b,c){b.exports=function(a,b){b&&(a.jobs=b.getJobs()),a.requestPostJob=function(a){b.setNewJobAtAddress(a)},a.$on("models.jobs",function(c,d){"updated"==d&&(a.jobs=b.getJobs())})}},{}],3:[function(a,b,c){b.exports=function(){function b(a){angular.forEach(a,function(a,b){a.setMap(null)})}function c(a,b,c){var e=new google.maps.Marker({map:d,draggable:!1,icon:"images/logo32.png",title:a,animation:google.maps.Animation.DROP,position:b}),f=new google.maps.InfoWindow({content:c});return e.addListener("click",function(){f.open(d,e)}),e}var d,e,f=a("./gmap.controller"),g={center:new google.maps.LatLng(37.335268,-121.881361),zoom:13},h=[],i=function(a){var b="",c="",d="",e="",f="",g="";return angular.forEach(a,function(a,h){"route"==a.types[0]&&(b=a.long_name),"locality"==a.types[0]&&(c=a.long_name),"country"==a.types[0]&&(d=a.long_name),"administrative_area_level_1"==a.types[0]&&(g=a.long_name),"postal_code"==a.types[0]&&(e=a.long_name),"street_number"==a.types[0]&&(f=a.long_name)}),{number:f,street:b,city:c,state:g,country:d,postal:e}};return{controller:["$scope","messenger_service",f],link:function(a,f,j){d=new google.maps.Map(f[0],g),e=new google.maps.Geocoder,a.$watch("jobs",function(d,e){e||(e=[]),d||(d=[]),d.length<e.length&&b(h);for(var f=e.length,g=d.length;g>f;f++){var i=d[f],j=i.jobAddress.formattedAddress;j+="<br /><br />"+i.jobDescription;var k='<h3 class="text-danger">'+i.jobTitle+"</h3>";if(j=k+'<pre class="text-primary">'+j+"</pre>",i.coordinates)var l=i.coordinates[0],m=i.coordinates[1],n={lat:l,lng:m};else if(i.jobAddress)var n=i.jobAddress.latLng;var o=c(i.jobTitle,n,j);h.push(o)}setTimeout(function(){a.$apply(),200})},!0),google.maps.event.addListener(d,"click",function(b){e.geocode({latLng:b.latLng},function(c,d){var e="";d==google.maps.GeocoderStatus.OK&&c[0]&&(e={formattedAddress:c[0].formatted_address,latLng:b.latLng},angular.extend(e,i(c[0].address_components)),a.requestPostJob(e))})})}}}},{"./gmap.controller":2}],4:[function(a,b,c){b.exports=function(a,b){a.sidebarModel=b.getSidebar()}},{}],5:[function(a,b,c){b.exports=function(a){var b={sidebar:{show:!1},signup:{show:!1},postJob:{newJob:null},jobs:[],user:null},c={getSidebar:function(){return b.sidebar},getSignup:function(){return b.signup},getUser:function(){return b.user},setUser:function(a){b.user=angular.extend({},a)},setNewJobAtAddress:function(c){b.postJob.newJob={jobTitle:"",jobDescription:"",jobAddress:c,jobWageType:null,jobMinWage:"",jobMaxWage:"",jobSetWage:""},a.$broadcast("models.postJob.newJob","updated")},addJob:function(c){b.jobs.push(c),a.$broadcast("models.jobs","updated")},getPostJob:function(){return b.postJob},getJobs:function(){return b.jobs}};return c}},{}],6:[function(a,b,c){b.exports=function(a,b){a.user=b.getUser(),a.sidebar=b.getSidebar(),a.signup=b.getSignup(),a.postjob=b.getPostJob(),a.$on("searchBar.input.submit",function(b,c){a.$broadcast("status.waiting")}),a.$on("models.user.updated",function(c,d){a.user=b.getUser()}),a.vEllipsisToggle=function(){a.sidebar.show=!a.sidebar.show,a.vEllipsis=a.sidebar.show},a.triggerSignup=function(){a.signup.show=!0},a.showPostJob=function(){a.postjob.show=!0}}},{}],7:[function(a,b,c){b.exports=function(){var b=a("./navbar.controller");return{templateUrl:"navbar/navbar.template.html",link:function(a,b,c){},controller:["$scope","messenger_service",b]}}},{"./navbar.controller":6}],8:[function(a,b,c){b.exports=function(a,b){a.model=b.getPostJob(),a.show=!1,a.$on("models.postJob.newJob",function(b,c){"updated"==c&&a.show()}),a.submitPostJob=function(){console.log("submitted"),b.addJob(a.model.newJob),a.hide()}}},{}],9:[function(a,b,c){b.exports=function(a,b){var c=a("/api/postjob/",{},{postjob:{method:"POST"}});return c}},{}],10:[function(a,b,c){b.exports=function(){var b=a("./postjob.controller");return{templateUrl:"postjob/postjob.form.html",link:function(a,b,c){var d=b.find(".modal");a.show=function(){d.modal("show")},a.hide=function(){d.modal("hide")},d.on("shown.bs.modal",function(){setTimeout(function(){a.$apply()},500)}),d.on("hidden.bs.modal",function(){a.model.newJob=null,setTimeout(function(){a.$apply()},100)})},controller:["$scope","messenger_service",b]}}},{"./postjob.controller":8}],11:[function(a,b,c){b.exports=function(){function a(a,c){""===a?c(b.get("developer","engineer","designer","tester")):b.search(a,c)}var b=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"search/suggestions.json"});return{templateUrl:"search/searchBar.template.html",link:function(b,c,d){c.find("form").on("submit",function(a){console.log(b.searchInput),b.sendQuery(b.searchInput)}),c.find(".inputSearch").typeahead({hint:!0,highlight:!0,minLength:0},{name:"states",source:a,templates:{empty:['<div class="text-muted">',"No Suggestion","</div>"].join("\n"),suggestion:function(a){var b='<div class="list-group-item">{{data}}</div>';return b.replace(/{{data}}/g,a)}}}),c.find(".inputSearch").on("focus",function(){$(this).select()}).bind("typeahead:select",function(a,c){b.sendQuery(c)}),c.find("#searchLog .dropdown-menu").on("click",function(a){a.stopPropagation()})},controller:["$scope",function(a){a.waiting=!1,a.searchLog={},a.clear=function(){a.searchLog={},a.$emit("searchInput.cleared"),a.searchInput="",setTimeout(function(){a.$apply()},10)},a.$on("searchInput.status.waiting",function(){a.waiting=!0,setTimeout(function(){a.$apply()},10)}),a.$on("searchInput.status.ready",function(){a.waiting=!1,setTimeout(function(){a.$apply()},10)}),a.sendQuery=function(b){b&&(a.searchInput=b),a.searchLog.hasOwnProperty(b)||"undefined"==typeof b||(a.searchLog[b]=!0);var c=Object.keys(a.searchLog);c.length>0?a.$emit("searchInput.submitted",c):a.$emit("searchInput.log.clear")}}]}}},{}],12:[function(a,b,c){b.exports=function(){var a=function(a){};return{templateUrl:"sidebar/sidebar.template.html",scope:{model:"="},link:function(a,b,c){a.$watch("model",function(a){b.toggleClass("toggled",a.show)},!0)},controller:["$scope",a]}}},{}],13:[function(a,b,c){b.exports=function(a,b,c){a.messenger=c,a.model=c.getSignup(),a.formError="",a.error="",a.status="standby";var d=function(){return a.model.password!==a.model.confPassword?(a.formError="password",!1):a.model.isEmployer||a.model.isEmployee?!0:(a.formError="employment",!1)};a.submit=function(){return a.error="",a.formError="",a.status="waiting",d()?(a.model.company=a.model.isEmployer?a.model.company:"",a.model.firstName=a.model.isEmployee?a.model.firstName:"",a.model.lastName=a.model.isEmployee?a.model.lastName:"",void b.signup(a.model,function(b){b.UserId>0?(c.setUser(b),a.$emit("models.user.updated",b),a.$broadcast("models.user.updated",b),a.status="success"):(angular.isArray(b.error)?a.error=b.error.join("\n"):a.error=b,a.status="standby")},function(b){a.error=b,a.status="standby"})):!1},a.$watch("model",function(){a.formError=""},!0)}},{}],14:[function(a,b,c){b.exports=function(a,b){var c=a("/api/signup/",{},{signup:{method:"POST"}});return c}},{}],15:[function(a,b,c){b.exports=function(){var b=a("./signup.controller");return{templateUrl:"signup/signup.form.html",scope:{model:"="},link:function(a,b,c){var d=b.find(".modal");a.$watch("model",function(a){a.show?d.modal("show"):d.modal("hide")},!0),a.$watch("status",function(b){"success"==a.status&&setTimeout(function(){d.modal("hide")},1e3)}),d.on("hidden.bs.modal",function(){a.model.show=!1,setTimeout(function(){a.$apply()},100)})},controller:["$scope","signup_service","messenger_service",b]}}},{"./signup.controller":13}]},{},[1]);