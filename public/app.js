!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./navbar/navbar.directive"),e=a("./sidebar/sidebar.directive"),f=a("./user.factory"),g=a("./jobs/joblist.factory"),h=a("./search/searchInput.directive"),i=a("./gmap/gmap.directive"),j=(a("./gmap/gmap.controller"),a("./signin/signin.directive")),k=a("./signup/signupForm.directive"),l=a("./postjob/postjobForm.directive"),m=(a("./postjob/postjob.service"),a("./messenger.service")),n=a("./main.controller");window.init=function(){var a=angular.module("githired",["ngResource","ngAnimate"]);a.factory("user_factory",["$resource","$rootScope",f]).factory("joblist_factory",["$resource",g]),a.service("messenger_service",["$rootScope","user_factory","joblist_factory",m]),a.directive("ghNavbar",[d]).directive("ghSidebar",[e]).directive("ghGmap",[i]).directive("ghSearch",[h]).directive("ghSigninModal",[j]).directive("ghSignupForm",[k]).directive("ghPostJobForm",[l]),a.controller("main_controller",["$scope","messenger_service",n]),angular.bootstrap(document,["githired"]),$(window).resize(function(){var a=$(window).height();$("#gmap").css("height",a)}).resize()}},{"./gmap/gmap.controller":2,"./gmap/gmap.directive":3,"./jobs/joblist.factory":4,"./main.controller":5,"./messenger.service":6,"./navbar/navbar.directive":8,"./postjob/postjob.service":10,"./postjob/postjobForm.directive":11,"./search/searchInput.directive":12,"./sidebar/sidebar.directive":13,"./signin/signin.directive":15,"./signup/signupForm.directive":17,"./user.factory":18}],2:[function(a,b,c){b.exports=function(a,b){a.control={},a.jobs=b.joblist,b.gmap.control=a.control,a.requestPostJob=function(a){b.jobPostingForm.control.show(a)}}},{}],3:[function(a,b,c){b.exports=function(){function b(a,b,d){var e=new google.maps.Marker({map:c,draggable:!1,icon:"images/logo32.png",title:a,animation:google.maps.Animation.DROP,position:b}),f=new google.maps.InfoWindow({content:d});return e.addListener("click",function(){f.open(c,e)}),e}var c,d,e=a("./gmap.controller"),f={center:new google.maps.LatLng(37.335268,-121.881361),zoom:13},g=[],h=function(a){var b="",c="",d="",e="",f="",g="";return angular.forEach(a,function(a,h){"route"==a.types[0]&&(b=a.long_name),"locality"==a.types[0]&&(c=a.long_name),"country"==a.types[0]&&(d=a.long_name),"administrative_area_level_1"==a.types[0]&&(g=a.long_name),"postal_code"==a.types[0]&&(e=a.long_name),"street_number"==a.types[0]&&(f=a.long_name)}),{number:f,street:b,city:c,state:g,country:d,postal:e}};return{controller:["$scope","messenger_service",e],scope:{},link:function(a,e,i){c=new google.maps.Map(e[0],f),d=new google.maps.Geocoder,a.control={addJob:function(c){var d=c.jobAddress.formattedAddress;d+="<br /><br />"+c.jobDescription;var e='<h3 class="text-danger">'+c.jobTitle+"</h3>";if(d=e+'<pre class="text-primary">'+d+"</pre>",c.coordinates)var f=c.coordinates[0],h=c.coordinates[1],i={lat:f,lng:h};else if(c.jobAddress)var i=c.jobAddress.latLng;var j=b(c.jobTitle,i,d);g.push(j),setTimeout(function(){a.$apply()},200)}},google.maps.event.addListener(c,"click",function(b){d.geocode({latLng:b.latLng},function(c,d){var e="";d==google.maps.GeocoderStatus.OK&&c[0]&&(e={formattedAddress:c[0].formatted_address,latLng:b.latLng},angular.extend(e,h(c[0].address_components)),a.requestPostJob(e))})}),a.$watch("jobs",function(a,c){function e(a){d.geocode({address:a.location+""},function(c,d){if(d==google.maps.GeocoderStatus.OK){b(a.jobTitle,c[0].geometry.location,a.jobDescription)}else alert("Geocode was not successful for the following reason: "+d)})}for(var f=0;f<a.length;f++)e(a[f])},!0)}}}},{"./gmap.controller":2}],4:[function(a,b,c){b.exports=function(a){var b="api/user/alljobs";return a(b)}},{}],5:[function(a,b,c){b.exports=function(a,b){console.log(b.joblist)}},{}],6:[function(a,b,c){b.exports=function(a,b,c){var d={sidebar:{},navbar:{},signup:{submit:function(c){return user=b.signup(c),user.$promise.then(function(a){a.userId&&d.setUser(a)},function(b){a.$broadcast("error",b)}),user.$promise}},signin:{submit:function(c){var e=b.signin({},c);return e.$promise.then(function(a){a.userId&&d.setUser(e)},function(b){a.$broadcast("error",b)}),e.$promise}},jobPostingForm:{},jobs:[],joblist:[],user:{},gmap:{},setUser:function(a){var b=this;angular.copy(a,b.user)},addJob:function(a){},fetchJobs:function(){var a=this;c.query({},function(b){console.log("i'm in success"),console.log("Response:"+b),angular.copy(b,a.joblist)},function(a){console.log("Failure:"+a)})}};return $(document).on("dblclick",function(){d.fetchJobs()}),d}},{}],7:[function(a,b,c){b.exports=function(a,b){a.user=b.user,$(document).on("dblclick",function(){console.log(a.user)}),a.vEllipsisToggle=function(){b.sidebar.control.show()},a.onSignupClicked=function(){b.signup.control.show()},a.onSigninClicked=function(){b.signin.control.show()},a.onSignoutClicked=function(){},a.onSidebarToggleClicked=function(){a.vEllipsis=!a.vEllipsis,a.vEllipsis?b.sidebar.control.show():b.sidebar.control.hide()}}},{}],8:[function(a,b,c){b.exports=function(){var b=a("./navbar.controller");return{templateUrl:"navbar/navbar.template.html",link:function(a,b,c){},controller:["$scope","messenger_service",b]}}},{"./navbar.controller":7}],9:[function(a,b,c){b.exports=function(a,b){a.control={},b.jobPostingForm.control=a.control,a.model={},a.submitPostJob=function(){b.addJob(a.model).then(function(){a.control.hide()})}}},{}],10:[function(a,b,c){b.exports=function(a,b){var c=a("/api/postjob/",{},{postjob:{method:"POST"}});return c}},{}],11:[function(a,b,c){b.exports=function(){var b=a("./postjob.controller");return{templateUrl:"postjob/postjob.form.html",control:"=",link:function(a,b,c){var d=b.find(".modal");a.control.show=function(b){a.model={jobTitle:"",jobDescription:"",jobAddress:b,jobWageType:null,jobMinWage:"",jobMaxWage:"",jobSetWage:""},d.modal("show")},a.control.hide=function(){d.modal("hide"),a.model=null}},controller:["$scope","messenger_service",b]}}},{"./postjob.controller":9}],12:[function(a,b,c){b.exports=function(){function a(a,c){""===a?c(b.get("developer","engineer","designer","tester")):b.search(a,c)}var b=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:"search/suggestions.json"});return{templateUrl:"search/searchBar.template.html",link:function(b,c,d){c.find("form").on("submit",function(a){console.log(b.searchInput),b.sendQuery(b.searchInput)}),c.find(".inputSearch").typeahead({hint:!0,highlight:!0,minLength:0},{name:"states",source:a,templates:{empty:['<div class="text-muted">',"No Suggestion","</div>"].join("\n"),suggestion:function(a){var b='<div class="list-group-item">{{data}}</div>';return b.replace(/{{data}}/g,a)}}}),c.find(".inputSearch").on("focus",function(){$(this).select()}).bind("typeahead:select",function(a,c){b.sendQuery(c)}),c.find("#searchLog .dropdown-menu").on("click",function(a){a.stopPropagation()})},controller:["$scope",function(a){a.waiting=!1,a.searchLog={},a.clear=function(){a.searchLog={},a.$emit("searchInput.cleared"),a.searchInput="",setTimeout(function(){a.$apply()},10)},a.$on("searchInput.status.waiting",function(){a.waiting=!0,setTimeout(function(){a.$apply()},10)}),a.$on("searchInput.status.ready",function(){a.waiting=!1,setTimeout(function(){a.$apply()},10)}),a.sendQuery=function(b){b&&(a.searchInput=b),a.searchLog.hasOwnProperty(b)||"undefined"==typeof b||(a.searchLog[b]=!0);var c=Object.keys(a.searchLog);c.length>0?a.$emit("searchInput.submitted",c):a.$emit("searchInput.log.clear")}}]}}},{}],13:[function(a,b,c){b.exports=function(){var a=function(a,b){a.control={},b.sidebar.control=a.control};return{templateUrl:"sidebar/sidebar.template.html",scope:{},link:function(a,b,c){a.control.show=function(){b.toggleClass("toggled",!0)},a.control.hide=function(){b.toggleClass("toggled",!1)}},controller:["$scope","messenger_service",a]}}},{}],14:[function(a,b,c){b.exports=function(a,b){a.control={},b.signin.control=a.control,a.form={email:null,password:null},a.status="standby",a.submit=function(){a.status="waiting",a.error="",b.signin.submit(a.form).then(function(b){a.status="success",a.form.email=null,a.form.password=null,setTimeout(function(){a.control.hide()},2e3)},function(b){a.error=b.data,a.status="standby"})}}},{}],15:[function(a,b,c){b.exports=function(){var b=a("./signin.controller");return{templateUrl:"signin/signin.modal.html",scope:{},link:function(a,b,c){var d=b.find(".modal");a.control.show=function(){d.modal("show")},a.control.hide=function(){d.modal("hide")}},controller:["$scope","messenger_service",b]}}},{"./signin.controller":14}],16:[function(a,b,c){b.exports=function(a,b){a.control={},b.signup.control=a.control,a.formError="",a.error="",a.status="standby",a.model={};var c=function(){return a.model.password!==a.model.confPassword?(a.formError="password",!1):a.model.isEmployer||a.model.isEmployee?!0:(a.formError="employment",!1)};a.submit=function(){return a.error="",a.formError="",a.status="waiting",c()?(a.model.company=a.model.isEmployer?a.model.company:"",a.model.firstName=a.model.isEmployee?a.model.firstName:"",a.model.lastName=a.model.isEmployee?a.model.lastName:"",void b.signup.submit(a.model).then(function(b){b.userId>0?(a.status="success",setTimeout(function(){a.control.hide()},1500)):(a.error=b,a.status="standby")},function(b){a.error=b,a.status="standby"})):!1}}},{}],17:[function(a,b,c){b.exports=function(){var b=a("./signup.controller");return{templateUrl:"signup/signup.form.html",scope:{},link:function(a,b,c){var d=b.find(".modal");a.control.show=function(){d.modal("show")},a.control.hide=function(){d.modal("hide")}},controller:["$scope","messenger_service",b]}}},{"./signup.controller":16}],18:[function(a,b,c){b.exports=function(a,b){var c=a("/api/user/:request",{request:"@signinORsignoutORsignup"},{signup:{method:"POST",params:{request:"signup"}},signin:{method:"POST",params:{request:"signin"}},signout:{method:"POST",params:{request:"signout"}}});return c}},{}]},{},[1]);